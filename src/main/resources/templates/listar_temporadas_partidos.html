<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Listar Partidos - Admin</title>
    <link rel="stylesheet" th:href="@{/css/admin-listar-partidos.css}">
</head>
<body>

<!-- HERO COMPACTO -->
<header class="hero-compact">
  <div class="hero-inner">
    <img src="https://i.ibb.co/Bz7h7YK/Recurso-5-100.jpg" alt="LBC" class="hero-logo">
    <div class="hero-text">
      <h1 class="hero-title">Liga de Béisbol de Cartagena</h1>
      <p class="hero-subtitle">Gestión de Partidos</p>
    </div>
  </div>
</header>

<!-- VOLVER -->
<nav class="simple-nav">
  <div class="nav-container">
    <a href="/admin" class="btn-back">Volver al Panel</a>
  </div>
</nav>

<main class="contenido fade-in">
  <h2 class="section-title">Temporadas y Partidos</h2>

  <div th:if="${temporadas != null and !#lists.isEmpty(temporadas)}">
    <div th:each="temporada : ${temporadas}" class="temporada-card">
      <h3 class="temporada-nombre" th:text="${temporada.nombreTemporada + ' (' + temporada.anio + ')'}">Temporada</h3>

      <a th:href="@{'/admin/crear-partido/' + ${temporada.id}}" class="btn-crear-partido">Crear Partido</a>

      <div th:if="${temporada.partidosJugados != null and !#lists.isEmpty(temporada.partidosJugados)}" class="partidos-list">
        <div th:each="partido, iterStat : ${temporada.partidosJugados}" class="partido-card">
          <div class="partido-info">
            <div class="partido-numero">Partido [[${iterStat.index + 1}]]</div>
            <div class="partido-fecha" th:text="${#temporals.format(partido.fecha, 'dd/MM/yyyy')} + ' - ' + ${#temporals.format(partido.hora, 'hh:mm a')}"></div>
            <div class="partido-estadio" th:text="${partido.estadio.nombre}">Estadio</div>
          </div>

          <div class="partido-score">
            <span class="equipo-local" th:text="${partido.nombreEquipoLocal}">Local</span>
            <span class="score-local" th:text="${partido.carrerasEquipoLocal}">0</span>
            <span class="vs">VS</span>
            <span class="score-visitante" th:text="${partido.carrerasEquipoVisitante}">0</span>
            <span class="equipo-visitante" th:text="${partido.nombreEquipoVisitante}">Visitante</span>
          </div>

          <div class="partido-acciones">
            <a th:href="@{'/admin/editar-partido/' + ${temporada.id} + '/' + ${iterStat.index}}" class="btn-editar">Editar</a>
            <a th:href="@{'/admin/ver-partido/' + ${temporada.id} + '/' + ${iterStat.index}}" class="btn-ver">Ver Detalles</a>
            <a th:href="@{'/admin/eliminar-partido/' + ${temporada.id} + '/' + ${iterStat.index}}"
               onclick="return confirm('¿Estás seguro de eliminar este partido?');"
               class="btn-eliminar">Eliminar</a>
          </div>
        </div>
      </div>

      <p th:if="${temporada.partidosJugados == null or #lists.isEmpty(temporada.partidosJugados)}" class="no-partidos">
        No hay partidos registrados para esta temporada.
      </p>
    </div>
  </div>

  <p th:if="${temporadas == null or #lists.isEmpty(temporadas)}" class="no-temporadas">
    No hay temporadas disponibles.
  </p>
</main>

<footer class="page-footer">
  <p>&copy; 2025 Liga de Béisbol de Cartagena</p>
</footer>

</body>
</html>